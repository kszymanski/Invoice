<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
	<h:head>  
  		<title>Login Page</title>
    </h:head>  
      
    <h:body>  
    	<f:facet name="last">
			<h:outputStylesheet library="css" name="Login.css" />
		</f:facet>
    	<h:form id="form">
        <p:panel id="panel" header="Podaj dane logowania:" styleClass="loginPanel">
        
        <h:panelGrid columns="3">
            	
            	<h:outputLabel for="username" value="Użytkownik:*" />  
            	<p:inputText id="username" value="#{user.username}" required="true" label="Użytkownik" requiredMessage="Nazwa użytkownika nie może być pusta" validatorMessage="Nazwa użytkownika musi być dłuższa niż 2">  
                	<f:validateLength minimum="2" />
                	<p:ajax update="msgUsername" event="keyup" /> 
            	</p:inputText>  
            	<p:message id="msgUsername" for="username" display="icon"/>  
  				
            	<h:outputLabel for="password" value="Hasło:*" />  
            	<p:password id="password" value="#{user.password}" label="Hasło" required="true" requiredMessage="Hasło nie może być puste" validatorMessage="Hasło musi być dłuższe niż 2">  
                	<f:validateLength minimum="2" />  
                	<p:ajax update="msgPassword" event="keyup" />  
            	</p:password>  
            	<p:message for="password" id="msgPassword" display="icon"/> 
            	
				<input type="hidden" name="from" value="#{param['from']}" />
				<!-- Action button -->
        	<p:commandButton id="btn" value="Login" update="panel" action="#{user.authenticate()}" styleClass="loginButton"/> 
        </h:panelGrid>
        <p:growl id="msgs"/>
        </p:panel>
    	</h:form>
    </h:body>  
</html>